"use strict";(self.webpackChunkan_onchain_app_in_100_components=self.webpackChunkan_onchain_app_in_100_components||[]).push([[565],{"./node_modules/@thirdweb-dev/sdk/dist/contract-interceptor-d7b164a7.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>ContractInterceptor});class ContractInterceptor{constructor(contractWrapper){this.contractWrapper=contractWrapper}overrideNextTransaction(hook){this.contractWrapper.withTransactionOverride(hook)}}},"./node_modules/@thirdweb-dev/sdk/dist/contract-platform-fee-e756e68f.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>ContractPlatformFee});var _transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/transactions-72f9603c.browser.esm.js"),_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/index-33cd3415.browser.esm.js");class ContractPlatformFee{featureName=_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.du.name;constructor(contractWrapper){this.contractWrapper=contractWrapper}async get(){const[platformFeeRecipient,platformFeeBps]=await this.contractWrapper.read("getPlatformFeeInfo",[]);return _index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.bH.parseAsync({platform_fee_recipient:platformFeeRecipient,platform_fee_basis_points:platformFeeBps})}set=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.f)((async platformFeeInfo=>{const parsed=await _index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.bH.parseAsync(platformFeeInfo);return _transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPlatformFeeInfo",args:[parsed.platform_fee_recipient,parsed.platform_fee_basis_points]})}))}},"./node_modules/@thirdweb-dev/sdk/dist/contract-sales-918c7cb8.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>ContractPrimarySale});var _transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/transactions-72f9603c.browser.esm.js"),_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/index-33cd3415.browser.esm.js");class ContractPrimarySale{featureName=_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.d7.name;constructor(contractWrapper){this.contractWrapper=contractWrapper}async getRecipient(){return await this.contractWrapper.read("primarySaleRecipient",[])}setRecipient=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.f)((async recipient=>_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPrimarySaleRecipient",args:[recipient]})))}},"./node_modules/@thirdweb-dev/sdk/dist/erc-20-standard-1e9d9631.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>StandardErc20});var _transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/transactions-72f9603c.browser.esm.js"),_erc_20_9a18a51c_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/erc-20-9a18a51c.browser.esm.js");class StandardErc20{get chainId(){return this._chainId}constructor(contractWrapper,storage,chainId){this.contractWrapper=contractWrapper,this.storage=storage,this.erc20=new _erc_20_9a18a51c_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.E(this.contractWrapper,this.storage,chainId),this._chainId=chainId}onNetworkUpdated(network){this.contractWrapper.updateSignerOrProvider(network)}getAddress(){return this.contractWrapper.address}async get(){return this.erc20.get()}async balance(){return await this.erc20.balance()}async balanceOf(address){return this.erc20.balanceOf(address)}async totalSupply(){return await this.erc20.totalSupply()}async allowance(spender){return await this.erc20.allowance(spender)}async allowanceOf(owner,spender){return await this.erc20.allowanceOf(owner,spender)}transfer=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.f)((async(to,amount)=>this.erc20.transfer.prepare(to,amount)));transferFrom=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.f)((async(from,to,amount)=>this.erc20.transferFrom.prepare(from,to,amount)));setAllowance=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.f)((async(spender,amount)=>this.erc20.setAllowance.prepare(spender,amount)));transferBatch=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.f)((async args=>this.erc20.transferBatch.prepare(args)))}},"./node_modules/@thirdweb-dev/sdk/dist/token-1e82c71a.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Token:()=>Token});var ethers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ethersproject/constants/lib.esm/addresses.js"),ethers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/index-33cd3415.browser.esm.js"),_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/transactions-72f9603c.browser.esm.js"),_contract_appuri_5c40af52_browser_esm_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/contract-appuri-5c40af52.browser.esm.js"),_fetchCurrencyValue_32d08b05_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/fetchCurrencyValue-32d08b05.browser.esm.js"),_contract_interceptor_d7b164a7_browser_esm_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/contract-interceptor-d7b164a7.browser.esm.js"),_contract_platform_fee_e756e68f_browser_esm_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/contract-platform-fee-e756e68f.browser.esm.js"),_contract_roles_71988d2e_browser_esm_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/contract-roles-71988d2e.browser.esm.js"),_contract_sales_918c7cb8_browser_esm_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/contract-sales-918c7cb8.browser.esm.js"),_erc_20_9a18a51c_browser_esm_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/erc-20-9a18a51c.browser.esm.js"),_erc_20_standard_1e9d9631_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@thirdweb-dev/sdk/dist/erc-20-standard-1e9d9631.browser.esm.js");__webpack_require__("./node_modules/bn.js/lib/bn.js"),__webpack_require__("./node_modules/bs58/index.js"),__webpack_require__("./node_modules/eventemitter3/index.mjs"),__webpack_require__("./node_modules/fast-deep-equal/index.js");class TokenERC20History{constructor(contractWrapper,events){this.contractWrapper=contractWrapper,this.events=events}async getAllHolderBalances(){const txns=(await this.events.getEvents("Transfer")).map((b=>b.data)),balances={};txns.forEach((item=>{const from=item?.from,to=item?.to,amount=item?.value;from!==ethers__WEBPACK_IMPORTED_MODULE_4__.L&&(from in balances||(balances[from]=ethers__WEBPACK_IMPORTED_MODULE_5__.gH.from(0)),balances[from]=balances[from].sub(amount)),to!==ethers__WEBPACK_IMPORTED_MODULE_4__.L&&(to in balances||(balances[to]=ethers__WEBPACK_IMPORTED_MODULE_5__.gH.from(0)),balances[to]=balances[to].add(amount))}));const entries=Object.entries(balances),results=await Promise.all(entries.map((_ref=>{let[,value]=_ref;return(0,_fetchCurrencyValue_32d08b05_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.a)(this.contractWrapper.getProvider(),this.contractWrapper.address,value)})));return entries.map(((_ref2,index)=>{let[addr]=_ref2;return{holder:addr,balance:results[index]}}))}}class Token extends _erc_20_standard_1e9d9631_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.S{static contractRoles=_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.dG;constructor(network,address,storage){let options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},abi=arguments.length>4?arguments[4]:void 0,chainId=arguments.length>5?arguments[5]:void 0;super(arguments.length>6&&void 0!==arguments[6]?arguments[6]:new _index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.cs(network,address,abi,options,storage),storage,chainId),this.abi=_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.bj.parse(abi||[]),this.metadata=new _contract_appuri_5c40af52_browser_esm_js__WEBPACK_IMPORTED_MODULE_9__.C(this.contractWrapper,_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.cb,this.storage),this.app=new _contract_appuri_5c40af52_browser_esm_js__WEBPACK_IMPORTED_MODULE_9__.b(this.contractWrapper,this.metadata,this.storage),this.roles=new _contract_roles_71988d2e_browser_esm_js__WEBPACK_IMPORTED_MODULE_10__.C(this.contractWrapper,Token.contractRoles),this.sales=new _contract_sales_918c7cb8_browser_esm_js__WEBPACK_IMPORTED_MODULE_11__.C(this.contractWrapper),this.events=new _contract_appuri_5c40af52_browser_esm_js__WEBPACK_IMPORTED_MODULE_9__.a(this.contractWrapper),this.history=new TokenERC20History(this.contractWrapper,this.events),this.encoder=new _fetchCurrencyValue_32d08b05_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.C(this.contractWrapper),this.estimator=new _contract_appuri_5c40af52_browser_esm_js__WEBPACK_IMPORTED_MODULE_9__.G(this.contractWrapper),this.platformFees=new _contract_platform_fee_e756e68f_browser_esm_js__WEBPACK_IMPORTED_MODULE_12__.C(this.contractWrapper),this.interceptor=new _contract_interceptor_d7b164a7_browser_esm_js__WEBPACK_IMPORTED_MODULE_13__.C(this.contractWrapper),this.signature=new _erc_20_9a18a51c_browser_esm_js__WEBPACK_IMPORTED_MODULE_14__.a(this.contractWrapper,this.roles)}async getVoteBalance(){return await this.getVoteBalanceOf(await this.contractWrapper.getSignerAddress())}async getVoteBalanceOf(account){return await this.erc20.getValue(await this.contractWrapper.read("getVotes",[account]))}async getDelegation(){return await this.getDelegationOf(await this.contractWrapper.getSignerAddress())}async getDelegationOf(account){return await this.contractWrapper.read("delegates",[await(0,_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.aL)(account)])}async isTransferRestricted(){return!await this.contractWrapper.read("hasRole",[(0,_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.H)("transfer"),ethers__WEBPACK_IMPORTED_MODULE_4__.L])}mint=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.f)((async amount=>this.erc20.mint.prepare(amount)));mintTo=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.f)((async(to,amount)=>this.erc20.mintTo.prepare(to,amount)));async getMintTransaction(to,amount){return this.erc20.getMintTransaction(to,amount)}mintBatchTo=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.f)((async args=>this.erc20.mintBatchTo.prepare(args)));delegateTo=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.f)((async delegateeAddress=>_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"delegate",args:[await(0,_index_33cd3415_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.aL)(delegateeAddress)]})));burn=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.f)((amount=>this.erc20.burn.prepare(amount)));burnFrom=(0,_transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.f)((async(holder,amount)=>this.erc20.burnFrom.prepare(holder,amount)));async prepare(method,args,overrides){return _transactions_72f9603c_browser_esm_js__WEBPACK_IMPORTED_MODULE_15__.T.fromContractWrapper({contractWrapper:this.contractWrapper,method,args,overrides})}async call(functionName,args,overrides){return this.contractWrapper.call(functionName,args,overrides)}}}}]);